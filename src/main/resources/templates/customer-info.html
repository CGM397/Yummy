<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>customer-info</title>
    <script type="text/javascript" src="http://ajax.microsoft.com/ajax/jquery/jquery-1.4.min.js"></script>
    <script type="text/javascript" src="../static/js/model.js"></script>
    <script type="text/javascript" src="../static/js/customerInfo.js"></script>
    <script type="text/javascript" src="../static/js/registerLogin.js"></script>
    <script type="text/javascript" src="../static/js/sweetalert.min.js"></script>
    <link href="../static/css/userInfoList.css" rel="stylesheet">
    <link href="../static/css/navigationBar.css" rel="stylesheet">
    <link href="../static/css/sweetalert.css" rel="stylesheet">
</head>
<body style = "margin: 0">
<div>
    <ul class="menu">
        <li><p>Yummy!</p></li>
        <li><a href="customer-home">主页</a></li>
        <li><a href="customer-order">我的订单</a></li>
        <li><a href="customer-address">收货地址</a></li>
        <li><a href="customer-statistics">统计信息</a></li>
        <li style="float: right;">
            <a href="javascript:void(0);" onclick="logout()">Logout</a>
        </li>
        <li style="float: right">
            <label>
                <input style="cursor: pointer" id="customerName" type="button" value="用户" onclick="refresh()"/>
            </label>
        </li>
        <li style="float: right"><p style="margin: 0; padding: 18px 0">您好!</p></li>
    </ul>
</div>

<section class="panel">
    <h2>个人信息</h2>
    <div class="infoList">
        <form>
            <ul>
                <li>
                    <label>会员等级</label>
                    <input id="vip-level" type="text" placeholder="vip-level" disabled />
                </li>
                <li>
                    <label>用户编号</label>
                    <input id="customer-id" type="text" placeholder="customer-id" disabled />
                </li>
                <li>
                    <label>用户名</label>
                    <input id="customer-name" type="text" placeholder="customer-name" disabled />
                </li>
                <li>
                    <label>密码</label>
                    <input id="customer-password" type="password" placeholder="customer-password" disabled />
                </li>
                <li>
                    <label>用户邮箱</label>
                    <input id="customer-mail" type="text" placeholder="customer-mail" disabled />
                </li>
                <li>
                    <label>联系电话</label>
                    <input id="phone-number" type="text" placeholder="phone-number" disabled />
                </li>
            </ul>
        </form>
    </div>

    <p>
        <a id="modify" onclick="modify()" class="btn">
            编辑个人信息
        </a>
        <a id="modifyPwd" onclick="modifyPassword()" class="btn">
            修改密码
        </a>
        <a id="modifyInfo" onclick="modifyInfo()" class="btn">
            保存个人信息
        </a>
        <a id="logout" onclick="delAccount()" class="specialBtn">
            注销
        </a>
    </p>
</section>

<script>
    infoListInit();
    function infoListInit() {
        var customerMail = localStorage.getItem("customerMail");
        var currentCustomer = findCustomerInfoByMail(customerMail);
        document.getElementById("customerName").value = currentCustomer.customerName;
        document.getElementById("customer-id").value = currentCustomer.customerId;
        document.getElementById("customer-name").value = currentCustomer.customerName;
        document.getElementById("customer-password").value = currentCustomer.customerPassword;
        document.getElementById("customer-mail").value = currentCustomer.customerMail;
        document.getElementById("vip-level").value = currentCustomer.vipLevel;
        document.getElementById("phone-number").value = currentCustomer.phoneNumber;
    }
    function refresh() {
        window.location.reload();
    }
    function modify() {
        document.getElementById("customer-name").disabled = false;
        document.getElementById("phone-number").disabled = false;
        swal("编辑权限已开启", "可在文本框中修改部分个人信息", "success");
    }
</script>
</body>
</html>